<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<meta name="google-signin-client_id" content="YOUR_CLIENT_ID.apps.googleusercontent.com">
<html>
    <head>
        <title>LOGIN</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >
    <!--jQuery library--> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!--Latest compiled and minified JavaScript--> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" text="text/css" href="login.css">
    </head>
    <body>
        <div class="header">
        <div class="inner-header">
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="logo"><a href="http://localhost:8383/Myfirstproject/assignment1/assignment.html" style=" text-decoration: none ; background-color: transparent ; color:#ededed; ">CROP YIELD ESTIMATION</a></div>
                <div class="header-link"><a href="signin.html" style=" text-decoration: none ; background-color: transparent ; color:#ededed; "><span class="glyphicon glyphicon-user">SignUp</span></a></div>
            <div class="header-link"><a href="login.html" style=" text-decoration: none ; background-color: transparent ; color:#ededed; "><span class="glyphicon glyphicon-log-in">Login</span></a></div>
            </div>
            </div>
            
    </div>
        <div class="container">
            <div class="row row_style">
                <div class="col-xs-4" >
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4>LOGIN</h4>
                        </div>
                        <div class="panel-body"><p class="text-warning">Login to make analysis</p></div> 
                        <form>
                            <div class="form-group">
                               Email:    <input type="text" class="form-control input-lg" name="Email" placeholder="Email"><br>
                               Password: <input type="text" class="form-control input-lg"  name="Password" placeholder="Password"><br><br>
                               <input type="Login" value="Login" class="btn btn-primary "><br><br>
                               
                               <button><div class='a'><img src="google.png" alt="loading" width="15%" height="15%"></div></button>
                               <button><div class='a1'><img src="yahoo.png" alt="loading"width="30%" height="30%"></div></button>
                               <a href="forgotpassword.html">Forgot Password?</a>
                        </form>
                        
                        <div class="panel-footer">Don't have an account? <a href="http://localhost:8383/Myfirstproject/assignment1/signin.html">Register</div>
                    
                </div>
            </div>
         </div>
         </div>
        </div>
        <!-- Display Google sign-in button -->
<div id="gSignIn"></div>

<!-- Show the user profile details -->
<div class="userContent" style="display: none;"></div>
        <script>
            // Render Google Sign-in button
            function renderButton() {
                gapi.signin2.render('gSignIn', {
                    'scope': 'profile email',
                    'width': 240,
                    'height': 50,
                    'longtitle': true,
                    'theme': 'dark',
                    'onsuccess': onSuccess,
                    'onfailure': onFailure
                });
            }
            
            // Sign-in success callback
            function onSuccess(googleUser) {
                // Get the Google profile data (basic)
                //var profile = googleUser.getBasicProfile();
                
                // Retrieve the Google account data
                gapi.client.load('oauth2', 'v2', function () {
                    var request = gapi.client.oauth2.userinfo.get({
                        'userId': 'me'
                    });
                    request.execute(function (resp) {
                        // Display the user details
                        var profileHTML = '<h3>Welcome '+resp.given_name+'! <a href="javascript:void(0);" onclick="signOut();">Sign out</a></h3>';
                        profileHTML += '<img src="'+resp.picture+'"/><p><b>Google ID: </b>'+resp.id+'</p><p><b>Name: </b>'+resp.name+'</p><p><b>Email: </b>'+resp.email+'</p><p><b>Gender: </b>'+resp.gender+'</p><p><b>Locale: </b>'+resp.locale+'</p><p><b>Google Profile:</b> <a target="_blank" href="'+resp.link+'">click to view profile</a></p>';
                        document.getElementsByClassName("userContent")[0].innerHTML = profileHTML;
                        
                        document.getElementById("gSignIn").style.display = "none";
                        document.getElementsByClassName("userContent")[0].style.display = "block";
                    });
                });
            }
            
            // Sign-in failure callback
            function onFailure(error) {
                alert(error);
            }
            
            // Sign out the user
            function signOut() {
                var auth2 = gapi.auth2.getAuthInstance();
                auth2.signOut().then(function () {
                    document.getElementsByClassName("userContent")[0].innerHTML = '';
                    document.getElementsByClassName("userContent")[0].style.display = "none";
                    document.getElementById("gSignIn").style.display = "block";
                });
                
                auth2.disconnect();
            }
            </script>
                <footer><div><p>LETS CREATE A GREEN ENVIRONMENT NUTRITIOUS</p></div></footer>
    </body>
</html>